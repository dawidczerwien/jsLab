<!DOCTYPE html>
<html>
 <head>
    <META charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        #timeToRender {
		position:absolute; 
		top: 10px; 
		font-size: 20px; 
		font-weight: bold; 
		background-color: #d85757;
		padding: 0px 4px;
		color: #ffffff;
	}
        
    </style>
  <title>CSV File to HTML</title>
  
  
 </head>
 <body>
    <script>
        let myData = new Object();
        fetch('https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/owid-covid-data.json').then(response => {
            myData = response.json();
            return myData;
        }).then(myData =>{
            //console.log(Object.keys(myData['POL']));
            
            
            window.onload = function () {

            var dataPoints = [];
            var y = 1000;
            var limit = 50000;

            for ( var i = 0; i < myData['POL']['data'].length; i++ ) {
                let d = myData['POL']['data'][i]['date'];
                let c = myData['POL']['data'][i]['new_cases'];
                dataPoints.push({
                x: new Date(d),
                y: c
		});
            }
            var options = {
                animationEnabled: true,
                theme: "light2",
                title: {
                    text: "Daily New Cases"
                },
                axisX: {
                    valueFormatString: "DD MMM YYYY",
                },
                axisY: {
                    title: "Number of infected",
                    titleFontSize: 24
                },
                data: [{
                    type: "spline", 
                    //yValueFormatString: "$#,###.##",
                    dataPoints: dataPoints
                }]
            };
            
            $("#chartContainer").CanvasJSChart(options);
            
                
                        
            }
        }
        );
        
        </script>
    
    <div id="chartContainer" style="height: 370px; width: 60%;"></div>
    <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
    <script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
 </body>
</html>



